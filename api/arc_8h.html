<html>
    <head>
		<meta charset="utf8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Shardcache: libshardcache/arc.h File Reference</title>
		<link href="bootstrap.min.css" rel="stylesheet">
		<link href="bootstrap-theme.min.css" rel="stylesheet">
		<link href="metathon-style.css" rel="stylesheet">
        <link href="stylesheet.css" rel="stylesheet" type="text/css" />
	</head>
	<body>
		<div class="gradient"> </div>
		<div class="container-fluid">
			<div class="row header">
				<div class="col-md-12">
					<a href="https://shardcached.github.io" class="logo">Shardcache</a>
                    <a href="https://github.com/Shardcached/shardcached">Github Project</a>
                    <a href="https://github.com/shardcached/">Github Organization</a>
                    <a href="https://shardcached.github.io/api/">API Reference</a>
				</div>
			</div>
<div class="row">
	<div class="col-md-12">
		<div class="project-box-wide ">
<div id="top">
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_154c52f89b78804c0b53c0039fc4a47d.html">libshardcache</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">arc.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structarc__ops__t.html">arc_ops_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ab2bb9d41801cf7b47ba0719917a1896d"><td class="memItemLeft" align="right" valign="top">typedef struct __arc&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="arc_8h.html#ab2bb9d41801cf7b47ba0719917a1896d">arc_t</a></td></tr>
<tr class="separator:ab2bb9d41801cf7b47ba0719917a1896d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8b4032be69e849e962a2b48c6168a9f"><td class="memItemLeft" align="right" valign="top">typedef void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="arc_8h.html#ae8b4032be69e849e962a2b48c6168a9f">arc_resource_t</a></td></tr>
<tr class="separator:ae8b4032be69e849e962a2b48c6168a9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8f8388954d75dea26d92dc28ff6a9c80"><td class="memItemLeft" align="right" valign="top"><a class="el" href="arc_8h.html#ab2bb9d41801cf7b47ba0719917a1896d">arc_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="arc_8h.html#a8f8388954d75dea26d92dc28ff6a9c80">arc_create</a> (<a class="el" href="structarc__ops__t.html">arc_ops_t</a> *ops, size_t c, size_t cached_object_size, size_t *lists_size[4], <a class="el" href="shardcache_8h.html#ab0b0adba8354729610d68cba4eda1fa7">arc_mode_t</a> mode)</td></tr>
<tr class="memdesc:a8f8388954d75dea26d92dc28ff6a9c80"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create an ARC cache instance.  <a href="#a8f8388954d75dea26d92dc28ff6a9c80">More...</a><br /></td></tr>
<tr class="separator:a8f8388954d75dea26d92dc28ff6a9c80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a3ce6559bff427f0bb56f2ac0dce3a9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="arc_8h.html#a1a3ce6559bff427f0bb56f2ac0dce3a9">arc_destroy</a> (<a class="el" href="arc_8h.html#ab2bb9d41801cf7b47ba0719917a1896d">arc_t</a> *cache)</td></tr>
<tr class="memdesc:a1a3ce6559bff427f0bb56f2ac0dce3a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release an existing ARC cache instance.  <a href="#a1a3ce6559bff427f0bb56f2ac0dce3a9">More...</a><br /></td></tr>
<tr class="separator:a1a3ce6559bff427f0bb56f2ac0dce3a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8b12f747ec4af03e992ff39a7ae7bc4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="arc_8h.html#ae8b4032be69e849e962a2b48c6168a9f">arc_resource_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="arc_8h.html#ab8b12f747ec4af03e992ff39a7ae7bc4">arc_lookup</a> (<a class="el" href="arc_8h.html#ab2bb9d41801cf7b47ba0719917a1896d">arc_t</a> *cache, const void *key, size_t klen, void **valuep, int async)</td></tr>
<tr class="memdesc:ab8b12f747ec4af03e992ff39a7ae7bc4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lookup an object in the cache.  <a href="#ab8b12f747ec4af03e992ff39a7ae7bc4">More...</a><br /></td></tr>
<tr class="separator:ab8b12f747ec4af03e992ff39a7ae7bc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86c165ced0f9f4be11ab855d12639c60"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="arc_8h.html#a86c165ced0f9f4be11ab855d12639c60">arc_load</a> (<a class="el" href="arc_8h.html#ab2bb9d41801cf7b47ba0719917a1896d">arc_t</a> *cache, const void *key, size_t klen, void *valuep, size_t vlen)</td></tr>
<tr class="separator:a86c165ced0f9f4be11ab855d12639c60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0580e4057ef7be176d89083aaff610b9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="arc_8h.html#a0580e4057ef7be176d89083aaff610b9">arc_release_resource</a> (<a class="el" href="arc_8h.html#ab2bb9d41801cf7b47ba0719917a1896d">arc_t</a> *cache, <a class="el" href="arc_8h.html#ae8b4032be69e849e962a2b48c6168a9f">arc_resource_t</a> res)</td></tr>
<tr class="memdesc:a0580e4057ef7be176d89083aaff610b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release the resource previously alloc'd by <a class="el" href="arc_8h.html#ab8b12f747ec4af03e992ff39a7ae7bc4" title="Lookup an object in the cache. ">arc_lookup()</a>  <a href="#a0580e4057ef7be176d89083aaff610b9">More...</a><br /></td></tr>
<tr class="separator:a0580e4057ef7be176d89083aaff610b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66ec64797fd10d00b1bd272aab3d2d66"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="arc_8h.html#a66ec64797fd10d00b1bd272aab3d2d66">arc_retain_resource</a> (<a class="el" href="arc_8h.html#ab2bb9d41801cf7b47ba0719917a1896d">arc_t</a> *cache, <a class="el" href="arc_8h.html#ae8b4032be69e849e962a2b48c6168a9f">arc_resource_t</a> res)</td></tr>
<tr class="memdesc:a66ec64797fd10d00b1bd272aab3d2d66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retain an ARC resource preventing it from being released.  <a href="#a66ec64797fd10d00b1bd272aab3d2d66">More...</a><br /></td></tr>
<tr class="separator:a66ec64797fd10d00b1bd272aab3d2d66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6dd65c47252c1e25056c59875769b56"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="arc_8h.html#ab6dd65c47252c1e25056c59875769b56">arc_drop_resource</a> (<a class="el" href="arc_8h.html#ab2bb9d41801cf7b47ba0719917a1896d">arc_t</a> *cache, <a class="el" href="arc_8h.html#ae8b4032be69e849e962a2b48c6168a9f">arc_resource_t</a> res)</td></tr>
<tr class="separator:ab6dd65c47252c1e25056c59875769b56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad99e09a2d07613dbb7e1a8968bcc2701"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="arc_8h.html#ad99e09a2d07613dbb7e1a8968bcc2701">arc_get_resource_ptr</a> (<a class="el" href="arc_8h.html#ae8b4032be69e849e962a2b48c6168a9f">arc_resource_t</a> res)</td></tr>
<tr class="separator:ad99e09a2d07613dbb7e1a8968bcc2701"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8b396f3929147b4376cca60bd01494d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="arc_8h.html#ad8b396f3929147b4376cca60bd01494d">arc_remove</a> (<a class="el" href="arc_8h.html#ab2bb9d41801cf7b47ba0719917a1896d">arc_t</a> *cache, const void *key, size_t klen)</td></tr>
<tr class="memdesc:ad8b396f3929147b4376cca60bd01494d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Force complete removal of an item from the cache.  <a href="#ad8b396f3929147b4376cca60bd01494d">More...</a><br /></td></tr>
<tr class="separator:ad8b396f3929147b4376cca60bd01494d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d277a171c88f3efcba0eaf330d3164b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="arc_8h.html#a9d277a171c88f3efcba0eaf330d3164b">arc_evict</a> (<a class="el" href="arc_8h.html#ab2bb9d41801cf7b47ba0719917a1896d">arc_t</a> *cache, const void *key, size_t len)</td></tr>
<tr class="memdesc:a9d277a171c88f3efcba0eaf330d3164b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Force eviction of an item which, if in the mru or mfu list, will be moved to the related ghost list (otherwise it will be untouched)  <a href="#a9d277a171c88f3efcba0eaf330d3164b">More...</a><br /></td></tr>
<tr class="separator:a9d277a171c88f3efcba0eaf330d3164b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a261f5073ea9b497a2daee9690cbf3935"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="arc_8h.html#a261f5073ea9b497a2daee9690cbf3935">arc_update_resource_size</a> (<a class="el" href="arc_8h.html#ab2bb9d41801cf7b47ba0719917a1896d">arc_t</a> *cache, <a class="el" href="arc_8h.html#ae8b4032be69e849e962a2b48c6168a9f">arc_resource_t</a> res, size_t size)</td></tr>
<tr class="memdesc:a261f5073ea9b497a2daee9690cbf3935"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the size of a cached object (if any)  <a href="#a261f5073ea9b497a2daee9690cbf3935">More...</a><br /></td></tr>
<tr class="separator:a261f5073ea9b497a2daee9690cbf3935"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac553a3144d5ce3d9352ed86021d4f2e2"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="arc_8h.html#ac553a3144d5ce3d9352ed86021d4f2e2">arc_size</a> (<a class="el" href="arc_8h.html#ab2bb9d41801cf7b47ba0719917a1896d">arc_t</a> *cache)</td></tr>
<tr class="memdesc:ac553a3144d5ce3d9352ed86021d4f2e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the actual cache size (in bytes)  <a href="#ac553a3144d5ce3d9352ed86021d4f2e2">More...</a><br /></td></tr>
<tr class="separator:ac553a3144d5ce3d9352ed86021d4f2e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9426663d68a469a1f8cf9c2067881522"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="arc_8h.html#a9426663d68a469a1f8cf9c2067881522">arc_mru_size</a> (<a class="el" href="arc_8h.html#ab2bb9d41801cf7b47ba0719917a1896d">arc_t</a> *cache)</td></tr>
<tr class="memdesc:a9426663d68a469a1f8cf9c2067881522"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the size of the mru list.  <a href="#a9426663d68a469a1f8cf9c2067881522">More...</a><br /></td></tr>
<tr class="separator:a9426663d68a469a1f8cf9c2067881522"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40cfced0e85695847b7fde511ad58241"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="arc_8h.html#a40cfced0e85695847b7fde511ad58241">arc_mfu_size</a> (<a class="el" href="arc_8h.html#ab2bb9d41801cf7b47ba0719917a1896d">arc_t</a> *cache)</td></tr>
<tr class="memdesc:a40cfced0e85695847b7fde511ad58241"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the size of the mfu list.  <a href="#a40cfced0e85695847b7fde511ad58241">More...</a><br /></td></tr>
<tr class="separator:a40cfced0e85695847b7fde511ad58241"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f50bede0bd98d531a839e76bf204198"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="arc_8h.html#a7f50bede0bd98d531a839e76bf204198">arc_mrug_size</a> (<a class="el" href="arc_8h.html#ab2bb9d41801cf7b47ba0719917a1896d">arc_t</a> *cache)</td></tr>
<tr class="memdesc:a7f50bede0bd98d531a839e76bf204198"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the size of the mrug list.  <a href="#a7f50bede0bd98d531a839e76bf204198">More...</a><br /></td></tr>
<tr class="separator:a7f50bede0bd98d531a839e76bf204198"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dfa0b20856d1c92daed8d54a3ca436b"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="arc_8h.html#a8dfa0b20856d1c92daed8d54a3ca436b">arc_mfug_size</a> (<a class="el" href="arc_8h.html#ab2bb9d41801cf7b47ba0719917a1896d">arc_t</a> *cache)</td></tr>
<tr class="memdesc:a8dfa0b20856d1c92daed8d54a3ca436b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the size of the mfug list.  <a href="#a8dfa0b20856d1c92daed8d54a3ca436b">More...</a><br /></td></tr>
<tr class="separator:a8dfa0b20856d1c92daed8d54a3ca436b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a315082dae32b1cd013764056f633f0aa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="arc_8h.html#a315082dae32b1cd013764056f633f0aa">arc_get_size</a> (<a class="el" href="arc_8h.html#ab2bb9d41801cf7b47ba0719917a1896d">arc_t</a> *cache, size_t *mru_size, size_t *mfu_size, size_t *mrug_size, size_t *mfug_size)</td></tr>
<tr class="memdesc:a315082dae32b1cd013764056f633f0aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the size for all the lists at once.  <a href="#a315082dae32b1cd013764056f633f0aa">More...</a><br /></td></tr>
<tr class="separator:a315082dae32b1cd013764056f633f0aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a629c0b7a52fa0e8a5636b44c26fd48f4"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="arc_8h.html#a629c0b7a52fa0e8a5636b44c26fd48f4">arc_count</a> (<a class="el" href="arc_8h.html#ab2bb9d41801cf7b47ba0719917a1896d">arc_t</a> *cache)</td></tr>
<tr class="memdesc:a629c0b7a52fa0e8a5636b44c26fd48f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of items actually cached.  <a href="#a629c0b7a52fa0e8a5636b44c26fd48f4">More...</a><br /></td></tr>
<tr class="separator:a629c0b7a52fa0e8a5636b44c26fd48f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa672811d51238261cdce5731ffbddc22"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="arc_8h.html#aa672811d51238261cdce5731ffbddc22">arc_set_mode</a> (<a class="el" href="arc_8h.html#ab2bb9d41801cf7b47ba0719917a1896d">arc_t</a> *cache, <a class="el" href="shardcache_8h.html#ab0b0adba8354729610d68cba4eda1fa7">arc_mode_t</a> mode)</td></tr>
<tr class="separator:aa672811d51238261cdce5731ffbddc22"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ab2bb9d41801cf7b47ba0719917a1896d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct __arc <a class="el" href="arc_8h.html#ab2bb9d41801cf7b47ba0719917a1896d">arc_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ae8b4032be69e849e962a2b48c6168a9f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void* <a class="el" href="arc_8h.html#ae8b4032be69e849e962a2b48c6168a9f">arc_resource_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a8f8388954d75dea26d92dc28ff6a9c80"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="arc_8h.html#ab2bb9d41801cf7b47ba0719917a1896d">arc_t</a>* arc_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structarc__ops__t.html">arc_ops_t</a> *&#160;</td>
          <td class="paramname"><em>ops</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>cached_object_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>lists_size</em>[4], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="shardcache_8h.html#ab0b0adba8354729610d68cba4eda1fa7">arc_mode_t</a>&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create an ARC cache instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ops</td><td>: A valid pointer to an initialized <a class="el" href="structarc__ops__t.html">arc_ops_t</a> structure </td></tr>
    <tr><td class="paramname">c</td><td>: The size of the cache </td></tr>
    <tr><td class="paramname">mode</td><td>: 0 for strict mode, 1 for loose_mode </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>: A valid pointer to an initialized arc_t structure </dd></dl>

</div>
</div>
<a class="anchor" id="a1a3ce6559bff427f0bb56f2ac0dce3a9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void arc_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="arc_8h.html#ab2bb9d41801cf7b47ba0719917a1896d">arc_t</a> *&#160;</td>
          <td class="paramname"><em>cache</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Release an existing ARC cache instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cache</td><td>: A valid pointer to an initialized arc_t structure </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab8b12f747ec4af03e992ff39a7ae7bc4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="arc_8h.html#ae8b4032be69e849e962a2b48c6168a9f">arc_resource_t</a> arc_lookup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="arc_8h.html#ab2bb9d41801cf7b47ba0719917a1896d">arc_t</a> *&#160;</td>
          <td class="paramname"><em>cache</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>klen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>valuep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>async</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Lookup an object in the cache. </p>
<p>The cache automatically allocates and fetches the object if it does not exists yet.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cache</td><td>: A valid pointer to an initialized arc_t structure </td></tr>
    <tr><td class="paramname">key</td><td>: The key </td></tr>
    <tr><td class="paramname">klen</td><td>: The length of the key </td></tr>
    <tr><td class="paramname">valuep</td><td>: a reference to the pointer where to copy the retrieved value </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An opaque ARC resource which needs to be released using <a class="el" href="arc_8h.html#a0580e4057ef7be176d89083aaff610b9" title="Release the resource previously alloc&#39;d by arc_lookup() ">arc_release_resource()</a> once the object is not going to be referenced anymore</dd></dl>
<dl class="section note"><dt>Note</dt><dd>ARC resources are internally reference counted. So when giving back to the caller a cached object (which is contained in an ARC resource) it will be retained until the caller releases it using the <a class="el" href="arc_8h.html#a0580e4057ef7be176d89083aaff610b9" title="Release the resource previously alloc&#39;d by arc_lookup() ">arc_release_resource()</a> function </dd></dl>

</div>
</div>
<a class="anchor" id="a86c165ced0f9f4be11ab855d12639c60"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int arc_load </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="arc_8h.html#ab2bb9d41801cf7b47ba0719917a1896d">arc_t</a> *&#160;</td>
          <td class="paramname"><em>cache</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>klen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>valuep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>vlen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a0580e4057ef7be176d89083aaff610b9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void arc_release_resource </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="arc_8h.html#ab2bb9d41801cf7b47ba0719917a1896d">arc_t</a> *&#160;</td>
          <td class="paramname"><em>cache</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="arc_8h.html#ae8b4032be69e849e962a2b48c6168a9f">arc_resource_t</a>&#160;</td>
          <td class="paramname"><em>res</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Release the resource previously alloc'd by <a class="el" href="arc_8h.html#ab8b12f747ec4af03e992ff39a7ae7bc4" title="Lookup an object in the cache. ">arc_lookup()</a> </p>
<dl class="section note"><dt>Note</dt><dd>The retain count will be decreased by 1. underlying resources will be free'd if the retain reaches 0 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cache</td><td>: A valid pointer to an initialized arc_t structure </td></tr>
    <tr><td class="paramname">res</td><td>: An opaque ARC resource previously returned by <a class="el" href="arc_8h.html#ab8b12f747ec4af03e992ff39a7ae7bc4" title="Lookup an object in the cache. ">arc_lookup()</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a66ec64797fd10d00b1bd272aab3d2d66"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void arc_retain_resource </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="arc_8h.html#ab2bb9d41801cf7b47ba0719917a1896d">arc_t</a> *&#160;</td>
          <td class="paramname"><em>cache</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="arc_8h.html#ae8b4032be69e849e962a2b48c6168a9f">arc_resource_t</a>&#160;</td>
          <td class="paramname"><em>res</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retain an ARC resource preventing it from being released. </p>
<dl class="section note"><dt>Note</dt><dd>The retain count will be increased by 1 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cache</td><td>: A valid pointer to an initialized arc_t structure </td></tr>
    <tr><td class="paramname">res</td><td>: An opaque ARC resource to retain </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Retained resources MUST be released calling <a class="el" href="arc_8h.html#a0580e4057ef7be176d89083aaff610b9" title="Release the resource previously alloc&#39;d by arc_lookup() ">arc_release_resource()</a> once it is not going to be referenced anymore </dd></dl>

</div>
</div>
<a class="anchor" id="ab6dd65c47252c1e25056c59875769b56"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void arc_drop_resource </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="arc_8h.html#ab2bb9d41801cf7b47ba0719917a1896d">arc_t</a> *&#160;</td>
          <td class="paramname"><em>cache</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="arc_8h.html#ae8b4032be69e849e962a2b48c6168a9f">arc_resource_t</a>&#160;</td>
          <td class="paramname"><em>res</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ad99e09a2d07613dbb7e1a8968bcc2701"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* arc_get_resource_ptr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="arc_8h.html#ae8b4032be69e849e962a2b48c6168a9f">arc_resource_t</a>&#160;</td>
          <td class="paramname"><em>res</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ad8b396f3929147b4376cca60bd01494d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void arc_remove </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="arc_8h.html#ab2bb9d41801cf7b47ba0719917a1896d">arc_t</a> *&#160;</td>
          <td class="paramname"><em>cache</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>klen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Force complete removal of an item from the cache. </p>
<dl class="section note"><dt>Note</dt><dd>the item will be completely removed from the cache and not moved to a ghost list first </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cache</td><td>: A valid pointer to an initialized arc_t structure </td></tr>
    <tr><td class="paramname">key</td><td>: The key </td></tr>
    <tr><td class="paramname">klen</td><td>: The length of the key </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9d277a171c88f3efcba0eaf330d3164b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void arc_evict </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="arc_8h.html#ab2bb9d41801cf7b47ba0719917a1896d">arc_t</a> *&#160;</td>
          <td class="paramname"><em>cache</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Force eviction of an item which, if in the mru or mfu list, will be moved to the related ghost list (otherwise it will be untouched) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cache</td><td>: A valid pointer to an initialized arc_t structure </td></tr>
    <tr><td class="paramname">key</td><td>: The key </td></tr>
    <tr><td class="paramname">klen</td><td>: The length of the key </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a261f5073ea9b497a2daee9690cbf3935"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void arc_update_resource_size </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="arc_8h.html#ab2bb9d41801cf7b47ba0719917a1896d">arc_t</a> *&#160;</td>
          <td class="paramname"><em>cache</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="arc_8h.html#ae8b4032be69e849e962a2b48c6168a9f">arc_resource_t</a>&#160;</td>
          <td class="paramname"><em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update the size of a cached object (if any) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cache</td><td>: A valid pointer to an initialized arc_t structure </td></tr>
    <tr><td class="paramname">res</td><td>: An opaque ARC resource previously returned by <a class="el" href="arc_8h.html#ab8b12f747ec4af03e992ff39a7ae7bc4" title="Lookup an object in the cache. ">arc_lookup()</a> </td></tr>
    <tr><td class="paramname">size</td><td>: The new size of the cached object </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac553a3144d5ce3d9352ed86021d4f2e2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t arc_size </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="arc_8h.html#ab2bb9d41801cf7b47ba0719917a1896d">arc_t</a> *&#160;</td>
          <td class="paramname"><em>cache</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the actual cache size (in bytes) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cache</td><td>: A valid pointer to an initialized arc_t structure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The actual size of the cache </dd></dl>

</div>
</div>
<a class="anchor" id="a9426663d68a469a1f8cf9c2067881522"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t arc_mru_size </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="arc_8h.html#ab2bb9d41801cf7b47ba0719917a1896d">arc_t</a> *&#160;</td>
          <td class="paramname"><em>cache</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the size of the mru list. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cache</td><td>: A valid pointer to an initialized arc_t structure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The actual size of the cache </dd></dl>

</div>
</div>
<a class="anchor" id="a40cfced0e85695847b7fde511ad58241"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t arc_mfu_size </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="arc_8h.html#ab2bb9d41801cf7b47ba0719917a1896d">arc_t</a> *&#160;</td>
          <td class="paramname"><em>cache</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the size of the mfu list. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cache</td><td>: A valid pointer to an initialized arc_t structure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The actual size of the cache </dd></dl>

</div>
</div>
<a class="anchor" id="a7f50bede0bd98d531a839e76bf204198"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t arc_mrug_size </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="arc_8h.html#ab2bb9d41801cf7b47ba0719917a1896d">arc_t</a> *&#160;</td>
          <td class="paramname"><em>cache</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the size of the mrug list. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cache</td><td>: A valid pointer to an initialized arc_t structure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The actual size of the cache </dd></dl>

</div>
</div>
<a class="anchor" id="a8dfa0b20856d1c92daed8d54a3ca436b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t arc_mfug_size </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="arc_8h.html#ab2bb9d41801cf7b47ba0719917a1896d">arc_t</a> *&#160;</td>
          <td class="paramname"><em>cache</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the size of the mfug list. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cache</td><td>: A valid pointer to an initialized arc_t structure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The actual size of the cache </dd></dl>

</div>
</div>
<a class="anchor" id="a315082dae32b1cd013764056f633f0aa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void arc_get_size </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="arc_8h.html#ab2bb9d41801cf7b47ba0719917a1896d">arc_t</a> *&#160;</td>
          <td class="paramname"><em>cache</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>mru_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>mfu_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>mrug_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>mfug_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the size for all the lists at once. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cache</td><td>: A valid pointer to an initialized arc_t structure </td></tr>
    <tr><td class="paramname">mru_size</td><td></td></tr>
    <tr><td class="paramname">mfu_size</td><td></td></tr>
    <tr><td class="paramname">mrug_size</td><td></td></tr>
    <tr><td class="paramname">mfug_size</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a629c0b7a52fa0e8a5636b44c26fd48f4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t arc_count </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="arc_8h.html#ab2bb9d41801cf7b47ba0719917a1896d">arc_t</a> *&#160;</td>
          <td class="paramname"><em>cache</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the number of items actually cached. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cache</td><td>: A valid pointer to an initialized arc_t structure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The total number of items in the cache </dd></dl>

</div>
</div>
<a class="anchor" id="aa672811d51238261cdce5731ffbddc22"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void arc_set_mode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="arc_8h.html#ab2bb9d41801cf7b47ba0719917a1896d">arc_t</a> *&#160;</td>
          <td class="paramname"><em>cache</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="shardcache_8h.html#ab0b0adba8354729610d68cba4eda1fa7">arc_mode_t</a>&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->

</div>
			<div class="row footer">
				<div class="col-md-12">
                Generated on Mon Aug 31 2015 18:17:37 for Shardcache by <a href="http://www.doxygen.org/index.html">doxygen</a> 1.8.10
                </div>
			</div>
		</div>
	</body>
</html>	
